1. 핵심 구성요소
Handler (중개소)

채팅 시스템의 중추적 역할을 담당
클라이언트들의 연결을 관리하고 메시지를 중개
접속, 퇴장, 메시지 전송 등의 이벤트를 처리

추상화 개념

추상클래스: 일부 메서드의 구현을 하위 클래스에 위임할 때 사용
인터페이스: 기능의 명세를 정의

Java 8 이후 default method 도입으로 추상클래스와 차이가 줄어듦



2. 설정의 핵심 요소
Config의 3대 핵심

Endpoint 설정: 웹소켓 연결 주소 정의
Handler 매핑: 요청을 처리할 핸들러 지정
인터셉터 설정: 필요한 경우 메시지 처리 전후 로직 추가

3. 메시지 처리 흐름

클라이언트가 AJAX로 메시지 전송
서버의 Handler가 메시지 수신
Handler가 연결된 클라이언트들에게 알림 전파:

새로운 댓글
사용자 접속/퇴장
기타 이벤트



4. 실제 구현시 중요 포인트

데이터 관리

채팅 이력 저장 방식
사용자 세션 관리
메시지 포맷 정의


보안 고려사항

사용자 인증
메시지 암호화
XSS 방지


성능 최적화

동시 접속자 처리
메시지 큐잉
부하 분산